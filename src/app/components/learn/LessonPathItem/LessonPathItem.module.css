/* ./src/app/components/learn/LessonPathItem/LessonPathItem.module.css */

/* --- Base Item Styles --- */
.pathItem {
    position: relative;
    width: 80px; /* Keep increased size */
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.1s ease-in-out, filter 0.2s ease, box-shadow 0.15s ease-in-out;
    box-sizing: border-box;
    border: none; /* No border */
  
    /* --- NEW Depth & Shadow Approach --- */
    /* Layer 1: Dark Bottom Edge (No Blur) */
    /* Layer 2: Softer Drop Shadow */
    box-shadow: 0 5px 0 0 #58a700, /* Darker green edge, adjust #58a700 if needed */
                0 8px 10px -2px rgba(0, 0, 0, 0.2); /* Softer drop shadow */
  
    /* --- NEW Subtle Top Highlight --- */
    /* Inset shadow creates highlight */
    box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.25), /* Highlight from top */
                0 5px 0 0 #58a700,                         /* Dark Edge (repeat from above) */
                0 8px 10px -2px rgba(0, 0, 0, 0.2);       /* Drop Shadow (repeat from above) */
  
    /* Remove the old separate background-image highlight */
    background-image: none;
  }
  
  .pathItem:hover {
    filter: brightness(1.1); /* Keep hover brightness */
    /* Optional: Slightly lift shadow */
     box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.25),
                 0 6px 0 0 #58a700, /* Lift edge slightly */
                 0 10px 12px -2px rgba(0, 0, 0, 0.22); /* Lift drop shadow */
  }
  
  .pathItem:active {
      transform: translateY(2px); /* Push down */
      filter: brightness(0.98); /* Slightly dim */
      /* --- Press Shadow Effect --- */
      box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.1), /* Dim highlight */
                  0 2px 0 0 #58a700,                 /* Reduce edge height */
                  0 4px 5px -1px rgba(0, 0, 0, 0.25); /* Reduce drop shadow */
  }
  
  
  /* --- Specific Item Type Styles --- */
  
  /* Checkmark */
  .checkmark {
    /* Default (incomplete/locked state, if any) */
    background-color: #e5e5e5; /* Keep gray */
    color: #cccccc;
    cursor: default;
    /* Apply specific shadows for gray state */
     box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.3),
                 0 5px 0 0 #ababab, /* Dark gray edge */
                 0 8px 10px -2px rgba(0, 0, 0, 0.15);
  }
  .checkmark .icon {
    font-size: 34px;
    /* Add a subtle text shadow to the icon for depth */
     text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
  }
  /* COMPLETED Checkmark Styling */
  .checkmark.completed {
      background-color: #84c400; /* Brighter, more accurate green */
      color: white;
      /* Apply specific green shadows */
       box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.25),
                   0 5px 0 0 #58a700, /* Dark green edge */
                   0 8px 10px -2px rgba(0, 0, 0, 0.2);
  }
  /* Override active state for non-clickable checkmarks */
  .checkmark:active {
      transform: none; filter: none;
      /* Restore original shadow based on completed state */
  }
  .checkmark.completed:active {
       box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.25),
                   0 5px 0 0 #58a700,
                   0 8px 10px -2px rgba(0, 0, 0, 0.2);
  }
  .checkmark:not(.completed):active {
       box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.3),
                   0 5px 0 0 #ababab,
                   0 8px 10px -2px rgba(0, 0, 0, 0.15);
  }
  
  
  /* Treasure Chest - Keep Existing Styles */
  .chest {
    background-color: #e5e5e5;
    border-radius: 14px;
    width: 85px; height: 75px; padding-top: 6px;
    /* Apply specific shadows for chest */
     box-shadow: inset 0 3px 2px rgba(255, 255, 255, 0.2),
                 0 5px 0 0 #b7a67c, /* Darker gold/brown edge */
                 0 8px 10px -2px rgba(0, 0, 0, 0.2);
    /* Override background image highlight if needed */
    background-image: none;
  }
  .chest:active {
       transform: translateY(2px); filter: brightness(0.98);
       box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.1),
                   0 2px 0 0 #b7a67c,
                   0 4px 5px -1px rgba(0, 0, 0, 0.25);
  }
  /* Keep .chestContent styles */
  .chestContent { width: 55%; height: 65%; background-color: #bbbbbb; border-radius: 5px; position: relative; border: 2px solid #cecece; display: flex; align-items: center; justify-content: center; }
  .chestContent::before { bottom: 6px; width: 9px; height: 11px; content: ''; position: absolute; left: 50%; transform: translateX(-50%); background-color: #888888; border-radius: 2px 2px 50% 50%; }
  .chestContent::after { top: 7px; width: 14px; height: 7px; content: ''; position: absolute; left: 50%; transform: translateX(-50%); background-color: #888888; border-radius: 50%; }
  
  
  /* Duo Owl */
  .duo {
    background-color: #84c400; /* Brighter Duo green */
    width: 85px; height: 85px; position: relative;
    border-radius: 50% 50% 40% 40%;
    /* Green shadows already applied via .pathItem */
  }
  /* Keep .owlBody, .owlEye, .owlBeak styles */
  .owlBody { position: relative; width: 100%; height: 100%; }
  .owlEye { position: absolute; top: 30%; width: 21px; height: 21px; background-color: white; border-radius: 50%; border: 2px solid #58a700; /* Darker outline */ }
  .owlEye::after { width: 9px; height: 9px; content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #333; border-radius: 50%; }
  .owlEye.left { left: 22%; }
  .owlEye.right { right: 22%; }
  .owlBeak { position: absolute; bottom: 20%; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 9px solid transparent; border-right: 9px solid transparent; border-top: 14px solid #ffb000; border-radius: 3px; }
  
  
  /* Level Badge */
  .level-badge {
    background-color: #84c400; /* Brighter green background */
    color: white; font-size: 28px; font-weight: 800; /* Bold number */ position: relative;
    /* Specific shape might require more complex border-radius or clip-path, or SVG bg */
    /* Example slightly more trophy-like radius */
    border-radius: 50% 50% 35% 35% / 60% 60% 40% 40%;
    height: 85px; /* Match height maybe? */
    /* Green shadows already applied via .pathItem */
    /* Ensure text is centered vertically */
    line-height: 85px; /* Match height */
    text-align: center;
    text-shadow: 0 1px 1px rgba(0,0,0,0.2); /* Shadow on number */
  }
  /* Adjust laurel leaf positions based on new shape/size */
  .level-badge::before,
  .level-badge::after {
    top: 50%; /* Center vertically */
    transform: translateY(-50%); /* Adjust vertical centering */
    height: 60%; /* Adjust height relative to badge */
    width: 24px; /* Wider leaves */
    content: ''; position: absolute; background-size: contain; background-repeat: no-repeat;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 30"><path d="M 10 0 C 15 5, 15 10, 10 15 C 15 20, 15 25, 10 30 M 10 5 C 5 10, 5 15, 10 20 M 10 10 C 0 15, 0 20, 10 25" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg>'); /* More detailed laurel SVG */
  }
  .level-badge::before { /* Left leaf */
    left: -5px; /* Position closer/overlapping edge */
    transform: translateY(-50%) scaleX(-1) rotate(-15deg); /* Flip and rotate */
  }
  .level-badge::after { /* Right leaf */
    right: -5px; /* Position closer/overlapping edge */
     transform: translateY(-50%) rotate(15deg); /* Rotate */
  }